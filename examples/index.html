
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<meta content="Mergify Configuration Examples" name="description" />
<meta content="mergify, examples" name="keywords" />
<meta content="Mergify Configuration Examples for Bots" name="description" />
<meta content="mergify, examples, dependabot, greenkeeper, renovate, pyup, imgbot" name="keywords" />

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <title>ğŸ§ª Example Rules &#8212; Mergify  documentation</title>

  <link rel="stylesheet" href="../_bootstrap/bootstrap.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
  
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mergify.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />

  
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
  <script src="../_bootstrap/bootstrap.min.js"></script>
  <script src="https://twemoji.maxcdn.com/v/latest/twemoji.min.js" crossorigin="anonymous"></script>
  <script type="text/javascript" src="../_static/mergify.js"></script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-118666091-1', 'auto');
    ga('send', 'pageview');
  </script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex/" />
    <link rel="search" title="Search" href="../search/" />
    <link rel="next" title="ğŸ– Badge" href="../badge/" />
    <link rel="prev" title="âš™ï¸ Commands" href="../commands/" /> 
  </head><body>
<div class="body-container">
  <nav class="navbar navbar-expand-md sticky-top navbar-light bg-white">
  <a class="navbar-brand" href="../">
    <img class="logo" src="../_static/mergify-logo-horizontal.png" alt="Mergify"/>
  </a>
  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#top-navbar">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse justify-content-end" id="top-navbar">
    <ul class="navbar-nav ms-auto">
      <li class="nav-item">
        <a class="nav-link" href="https://mergify.io" target="_blank">Home</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://mergify.io/about" target="_blank">About</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://blog.mergify.io" target="_blank">Blog</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://dashboard.mergify.io" target="_blank">Dashboard</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://github.com/Mergifyio/mergify-engine/discussions" target="_blank">Discussions</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://status.mergify.io" target="_blank">Status</a>
      </li>
    </ul>
    <form class="row row-cols-lg-auto" action="../search/" method="get">
      <div class="col-8-lg">
        <input type="text" name="q" class="form-control mr-sm-2"/>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </div>
      <div class="col-4-lg">
        <button class="btn btn-outline-primary my-2 my-sm-0" type="submit">Search</button>
      </div>
    </form>
  </div>
</nav>
  <nav class="related d-flex justify-content-between flex-wrap" role="navigation" aria-label="related navigation">
  <ol class="breadcrumb">
    <li class="breadcrumb-item active">ğŸ§ª Example Rules</li>
  </ol>
  <div>
    <div class="btn-group btn-group-sm" role="group" aria-label="Basic example">
      <a href="../commands/" title="Previous Chapter: âš™ï¸ Commands" class="btn btn-primary" role="button" accesskey="P">
        &laquo; âš™ï¸ Commands
      </a>
      <a href="../badge/" title="Next Chapter: ğŸ– Badge" class="btn btn-primary" role="button" accesskey="N">
        ğŸ– Badge &raquo;
      </a>
    </div>
  </div>
</nav>
  <div class="main container-fluid">
    <div class="row">
      <div class="sphinxsidebar col" aria-label="main navigation"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting-started/">â¡ï¸ Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../getting-started/#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting-started/#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting-started/#understanding-mergify-check-report">Understanding Mergify Check Report</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting-started/#controlling-mergify-with-commands">Controlling Mergify with Commands</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/">ğŸ”– Configuration File</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../configuration/#file-used">File Used</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/#format">Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/#data-types">Data Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/#validation">Validation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../conditions/">ğŸ¯ Conditions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../conditions/#grammar">Grammar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../conditions/#combining-conditions-with-operators">Combining Conditions with Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../conditions/#attributes">Attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../conditions/#operators">Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../conditions/#how-to-match-lists">How To Match Lists</a></li>
<li class="toctree-l2"><a class="reference internal" href="../conditions/#about-status-checks">About Status Checks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../actions/">ğŸš€ Actions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../actions/assign/">assign</a></li>
<li class="toctree-l2"><a class="reference internal" href="../actions/backport/">backport</a></li>
<li class="toctree-l2"><a class="reference internal" href="../actions/close/">close</a></li>
<li class="toctree-l2"><a class="reference internal" href="../actions/copy/">copy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../actions/comment/">comment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../actions/delete_head_branch/">delete_head_branch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../actions/dismiss_reviews/">dismiss_reviews</a></li>
<li class="toctree-l2"><a class="reference internal" href="../actions/label/">label</a></li>
<li class="toctree-l2"><a class="reference internal" href="../actions/merge/">merge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../actions/post_check/">post_check</a></li>
<li class="toctree-l2"><a class="reference internal" href="../actions/queue/">queue</a></li>
<li class="toctree-l2"><a class="reference internal" href="../actions/queue/#using-rebase-to-update">Using Rebase to Update</a></li>
<li class="toctree-l2"><a class="reference internal" href="../actions/rebase/">rebase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../actions/request_reviews/">request_reviews</a></li>
<li class="toctree-l2"><a class="reference internal" href="../actions/review/">review</a></li>
<li class="toctree-l2"><a class="reference internal" href="../actions/update/">update</a></li>
<li class="toctree-l2"><a class="reference internal" href="../actions/squash/">squash</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../commands/">âš™ï¸ Commands</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../commands/#rebase">rebase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commands/#update">update</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commands/#backport">backport</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commands/#copy">copy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commands/#squash">squash</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commands/#refresh">refresh</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">ğŸ§ª Example Rules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#automatic-merge-when-ci-works-and-approving-reviews">âœ… Automatic Merge when CI works and approving reviews</a></li>
<li class="toctree-l2"><a class="reference internal" href="#merging-based-on-modified-files">ğŸ—‚ Merging based on Modified Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#less-strict-rules-for-stable-branches">ğŸ– Less Strict Rules for Stable Branches</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-labels-to-enable-disable-merge">ğŸ¬ Using Labels to Enable/Disable Merge</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-labels-to-prioritize-merge">âš¡ï¸ Using Labels to Prioritize Merge</a></li>
<li class="toctree-l2"><a class="reference internal" href="#require-all-requested-reviews-to-be-approved">ğŸ™…ï¸ Require All Requested Reviews to Be Approved</a></li>
<li class="toctree-l2"><a class="reference internal" href="#matching-pull-requests-with-task-lists">â˜‘ï¸ Matching Pull Requests with Task Lists</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bots">ğŸ¤– Bots</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../badge/">ğŸ– Badge</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../badge/#embedding">Embedding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../badge/#styles">Styles</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../faq/">ğŸ’¬ FAQ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../faq/#mergify-is-unable-to-merge-my-pull-request-due-to-my-branch-protection-settings">Mergify is unable to merge my pull request due to my branch protection settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq/#why-did-mergify-seem-to-have-merged-my-pull-request-whereas-all-conditions-were-not-true">Why did Mergify seem to have merged my pull request whereas all conditions were not true?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq/#i-see-a-rebase-and-force-push-done-by-a-member-of-the-repository-but-mergify-actually-did-it">I see a rebase and force-push done by a member of the repository, but Mergify actually did it.</a></li>
</ul>
</li>
</ul>


      </div>
      <div class="document col-12 col-lg-8 col-xl-9">
      <div class="documentwrapper">
        <div class="body" role="main">
          
  <section id="example-rules">
<span id="examples"></span><h1>ğŸ§ª Example Rules<a class="headerlink" href="#example-rules" title="Permalink to this headline">ğŸ”—</a></h1>
<p>Mergify allows you to define a lot of specific rules and workflows. There is a
large number of <a class="reference internal" href="../conditions/#attributes"><span class="std std-ref">criterias</span></a> available to define rules: pull
request author, base branch, labels, files, etc.</p>
<p>In this section, we build a few examples that should help you getting started
and cover many common use cases.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#automatic-merge-when-ci-works-and-approving-reviews" id="id9">âœ… Automatic Merge when CI works and approving reviews</a></p></li>
<li><p><a class="reference internal" href="#merging-based-on-modified-files" id="id10">ğŸ—‚ Merging based on Modified Files</a></p></li>
<li><p><a class="reference internal" href="#less-strict-rules-for-stable-branches" id="id11">ğŸ– Less Strict Rules for Stable Branches</a></p></li>
<li><p><a class="reference internal" href="#using-labels-to-enable-disable-merge" id="id12">ğŸ¬ Using Labels to Enable/Disable Merge</a></p></li>
<li><p><a class="reference internal" href="#using-labels-to-prioritize-merge" id="id13">âš¡ï¸ Using Labels to Prioritize Merge</a></p></li>
<li><p><a class="reference internal" href="#require-all-requested-reviews-to-be-approved" id="id14">ğŸ™…ï¸ Require All Requested Reviews to Be Approved</a></p></li>
<li><p><a class="reference internal" href="#matching-pull-requests-with-task-lists" id="id15">â˜‘ï¸ Matching Pull Requests with Task Lists</a></p></li>
<li><p><a class="reference internal" href="#bots" id="id16">ğŸ¤– Bots</a></p></li>
</ul>
</div>
<section id="automatic-merge-when-ci-works-and-approving-reviews">
<h2><a class="toc-backref" href="#id9">âœ… Automatic Merge when CI works and approving reviews</a><a class="headerlink" href="#automatic-merge-when-ci-works-and-approving-reviews" title="Permalink to this headline">ğŸ”—</a></h2>
<p>This is a classic! That rule enables Mergify automatic merge when the
continuous integration system validates the pull request and a human reviewed
it.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">pull_request_rules</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">automatic merge for main when CI passes and 2 reviews</span>
    <span class="nt">conditions</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="s">&quot;#approved-reviews-by&gt;=2&quot;</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">check-success=Travis CI - Pull Request</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">base=main</span>
    <span class="nt">actions</span><span class="p">:</span>
      <span class="nt">merge</span><span class="p">:</span>
        <span class="nt">method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">merge</span>
</pre></div>
</div>
<p>Of course, you need to adapt the <code class="docutils literal notranslate"><span class="pre">check-success</span></code> condition to reflect which
CI system you use.</p>
<p>You can tweak this rule as you want. For example, you could use a label such as
<code class="docutils literal notranslate"><span class="pre">work-in-progress</span></code> to indicate that a pull request is not ready to be merged
â€” even ifâ€™s approved:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">pull_request_rules</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">automatic merge for main when CI passes and 2 reviews and not WIP</span>
    <span class="nt">conditions</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="s">&quot;#approved-reviews-by&gt;=2&quot;</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">check-success=Travis CI - Pull Request</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">base=main</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">label!=work-in-progress</span>
    <span class="nt">actions</span><span class="p">:</span>
      <span class="nt">merge</span><span class="p">:</span>
        <span class="nt">method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">merge</span>
</pre></div>
</div>
<p>You might want to merge a pull request only if it has been approved by a
certain member. You could therefore write such a rule:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">pull_request_rules</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">automatic merge for main when CI passes approved by octocat</span>
    <span class="nt">conditions</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">approved-reviews-by=octocat</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">check-success=Travis CI - Pull Request</span>
    <span class="nt">actions</span><span class="p">:</span>
      <span class="nt">merge</span><span class="p">:</span>
        <span class="nt">method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">merge</span>
</pre></div>
</div>
</section>
<section id="merging-based-on-modified-files">
<h2><a class="toc-backref" href="#id10">ğŸ—‚ Merging based on Modified Files</a><a class="headerlink" href="#merging-based-on-modified-files" title="Permalink to this headline">ğŸ”—</a></h2>
<p>You could decide to only merge some pull requests based on the files they
touch. You can use the <code class="docutils literal notranslate"><span class="pre">files</span></code> attribute to access the modified file list and
<code class="docutils literal notranslate"><span class="pre">#files</span></code> to access the number of files.</p>
<p>This tweak is useful when you want Mergify to merge only data files which can
be validated by a script or a linter.</p>
<p>The below sample merges only if <code class="docutils literal notranslate"><span class="pre">data.json</span></code> changed and if the pull request
passes Circle CIâ€™s validation tests:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">pull_request_rules</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">automatic merge on CircleCI success if only data.json is changed</span>
    <span class="nt">conditions</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="s">&quot;check-success=ci/circleci:</span><span class="nv"> </span><span class="s">validate&quot;</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">files=data.json</span>
      <span class="p p-Indicator">-</span> <span class="s">&quot;#files=1&quot;</span>
    <span class="nt">actions</span><span class="p">:</span>
      <span class="nt">merge</span><span class="p">:</span>
        <span class="nt">method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">merge</span>
</pre></div>
</div>
<p>You can also match patterns using regular expression. The following rule merges
the pull requests when the CI passes and when all the files are inside the
<code class="docutils literal notranslate"><span class="pre">src/</span></code> directory:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">pull_request_rules</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">automatic merge on CircleCI success if only data.json is changed</span>
    <span class="nt">conditions</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="s">&quot;check-success=ci/circleci:</span><span class="nv"> </span><span class="s">validate&quot;</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">-files~=^(!?src/)</span>
    <span class="nt">actions</span><span class="p">:</span>
      <span class="nt">merge</span><span class="p">:</span>
        <span class="nt">method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">merge</span>
</pre></div>
</div>
</section>
<section id="less-strict-rules-for-stable-branches">
<h2><a class="toc-backref" href="#id11">ğŸ– Less Strict Rules for Stable Branches</a><a class="headerlink" href="#less-strict-rules-for-stable-branches" title="Permalink to this headline">ğŸ”—</a></h2>
<p>Some projects like having easier review requirements for maintenance branches.
That usually means having e.g. 2 review requested for merging into <code class="docutils literal notranslate"><span class="pre">main</span></code>,
but only one for a stable branch â€” since those pull request are essentially
backport from <code class="docutils literal notranslate"><span class="pre">main</span></code>.</p>
<p>To automate the merge in this case, you could write some rules along those:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">pull_request_rules</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">automatic merge for main when reviewed and CI passes</span>
    <span class="nt">conditions</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="s">&quot;check-success=ci/circleci:</span><span class="nv"> </span><span class="s">my_testing_job&quot;</span>
      <span class="p p-Indicator">-</span> <span class="s">&quot;#approved-reviews-by&gt;=2&quot;</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">base=main</span>
    <span class="nt">actions</span><span class="p">:</span>
      <span class="nt">merge</span><span class="p">:</span>
        <span class="nt">method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">merge</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">automatic merge for stable branches</span>
    <span class="nt">conditions</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="s">&quot;check-success=ci/circleci:</span><span class="nv"> </span><span class="s">my_testing_job&quot;</span>
      <span class="p p-Indicator">-</span> <span class="s">&quot;#approved-reviews-by&gt;=1&quot;</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">base~=^stable/</span>
    <span class="nt">actions</span><span class="p">:</span>
      <span class="nt">merge</span><span class="p">:</span>
        <span class="nt">method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">merge</span>
</pre></div>
</div>
</section>
<section id="using-labels-to-enable-disable-merge">
<h2><a class="toc-backref" href="#id12">ğŸ¬ Using Labels to Enable/Disable Merge</a><a class="headerlink" href="#using-labels-to-enable-disable-merge" title="Permalink to this headline">ğŸ”—</a></h2>
<p>Some developers are not comfortable with fully automatic merge â€” they like
having a final word before merging the code. In that case, you can add a
condition using a <a class="reference external" href="https://docs.github.com/en/issues/using-labels-and-milestones-to-track-work/managing-labels">label</a>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">pull_request_rules</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">automatic merge for main when reviewed and CI passes</span>
    <span class="nt">conditions</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">check-success=Travis CI - Pull Request</span>
      <span class="p p-Indicator">-</span> <span class="s">&quot;#approved-reviews-by&gt;=2&quot;</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">base=main</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">label=ready-to-merge</span>
    <span class="nt">actions</span><span class="p">:</span>
      <span class="nt">merge</span><span class="p">:</span>
        <span class="nt">method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">merge</span>
</pre></div>
</div>
<p>As soon as the pull request has been approved by 2 contributors and gets the
label <code class="docutils literal notranslate"><span class="pre">ready-to-be-merged</span></code>, the pull request will be merged by Mergify.</p>
<p>On the other hand, some developers wants an option to disable the automatic
merge feature with a label. This can be useful to indicate that a pull request
labelled as <code class="docutils literal notranslate"><span class="pre">work-in-progress</span></code> should not be merged:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">pull_request_rules</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">automatic merge for main when reviewed and CI passes</span>
    <span class="nt">conditions</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">check-success=continuous-integration/travis-ci/pr</span>
      <span class="p p-Indicator">-</span> <span class="s">&quot;#approved-reviews-by&gt;=2&quot;</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">base=main</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">label!=work-in-progress</span>
    <span class="nt">actions</span><span class="p">:</span>
      <span class="nt">merge</span><span class="p">:</span>
        <span class="nt">method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">merge</span>
</pre></div>
</div>
<p>In that case, if a pull request gets labelled with <code class="docutils literal notranslate"><span class="pre">work-in-progress</span></code>, it
wonâ€™t be merged, even if approved by 2 contributors and having TravisÂ CI
passing.</p>
</section>
<section id="using-labels-to-prioritize-merge">
<h2><a class="toc-backref" href="#id13">âš¡ï¸ Using Labels to Prioritize Merge</a><a class="headerlink" href="#using-labels-to-prioritize-merge" title="Permalink to this headline">ğŸ”—</a></h2>
<p><div class="feature-tag"><a href="https://mergify.io/pricing" target="_blank"><span class="badge bg-warning">Premium Plan<br/>Feature ğŸ¦¾</span></a></div></p>
<p>When <code class="docutils literal notranslate"><span class="pre">smart</span></code> <a class="reference internal" href="../actions/merge/#strict-merge"><span class="std std-ref">Strict Merge</span></a> is enabled and many pull requests are
waiting to be merged, some of them might be more urgent. In that case, you
could add a condition using a <a class="reference external" href="https://docs.github.com/en/issues/using-labels-and-milestones-to-track-work/managing-labels">label</a> and
configure the priority option of <a class="reference internal" href="../actions/merge/#merge-action"><span class="std std-ref">merge</span></a>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">pull_request_rules</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">automatic merge of ğŸš‘ hotfix (high priority)</span>
    <span class="nt">conditions</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">check-success=Travis CI - Pull Request</span>
      <span class="p p-Indicator">-</span> <span class="s">&quot;#approved-reviews-by&gt;=2&quot;</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">base=main</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">label=ğŸš‘ hotfix</span>
    <span class="nt">actions</span><span class="p">:</span>
      <span class="nt">merge</span><span class="p">:</span>
        <span class="nt">method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">merge</span>
        <span class="nt">strict</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">smart</span>
        <span class="nt">priority</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">high</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">automatic merge of bot ğŸ¤– (low priority)</span>
    <span class="nt">conditions</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">author~=^dependabot(|-preview)\[bot\]$</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">check-success=Travis CI - Pull Request</span>
      <span class="p p-Indicator">-</span> <span class="s">&quot;#approved-reviews-by&gt;=2&quot;</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">base=main</span>
    <span class="nt">actions</span><span class="p">:</span>
      <span class="nt">merge</span><span class="p">:</span>
        <span class="nt">method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">merge</span>
        <span class="nt">strict</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">smart</span>
        <span class="nt">priority</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">low</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">automatic merge for main when reviewed and CI passes</span>
    <span class="nt">conditions</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">check-success=Travis CI - Pull Request</span>
      <span class="p p-Indicator">-</span> <span class="s">&quot;#approved-reviews-by&gt;=2&quot;</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">base=main</span>
    <span class="nt">actions</span><span class="p">:</span>
      <span class="nt">merge</span><span class="p">:</span>
        <span class="nt">method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">merge</span>
        <span class="nt">strict</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">smart</span>
        <span class="nt">priority</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">medium</span>
</pre></div>
</div>
<p>As soon as the pull request has been approved by 2 contributors, the pull
request will be added to the merge queue. Within the merge queue, the pull
requests with the label <code class="docutils literal notranslate"><span class="pre">ğŸš‘</span> <span class="pre">hotfix</span></code> will be merged first. The pull requests
from <cite>dependabot</cite> will always be merged last.</p>
</section>
<section id="require-all-requested-reviews-to-be-approved">
<h2><a class="toc-backref" href="#id14">ğŸ™…ï¸ Require All Requested Reviews to Be Approved</a><a class="headerlink" href="#require-all-requested-reviews-to-be-approved" title="Permalink to this headline">ğŸ”—</a></h2>
<p>If all requested reviews have been approved, then the number of
<code class="docutils literal notranslate"><span class="pre">review-requested</span></code> should become 0. Thatâ€™s not a sufficient condition to
merge though, as you also want to make sure thereâ€™s at least one positive
review.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">pull_request_rules</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">merge when all requested reviews are valid</span>
    <span class="nt">conditions</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="s">&quot;#approved-reviews-by&gt;=1&quot;</span>
      <span class="p p-Indicator">-</span> <span class="s">&quot;#review-requested=0&quot;</span>
      <span class="p p-Indicator">-</span> <span class="s">&quot;#changes-requested-reviews-by=0&quot;</span>
    <span class="nt">actions</span><span class="p">:</span>
        <span class="nt">merge</span><span class="p">:</span>
          <span class="nt">method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">merge</span>
</pre></div>
</div>
<p>Note that if a requested review is dismissed, then it doesnâ€™t count as a review
that would prevent the merge.</p>
</section>
<section id="matching-pull-requests-with-task-lists">
<h2><a class="toc-backref" href="#id15">â˜‘ï¸ Matching Pull Requests with Task Lists</a><a class="headerlink" href="#matching-pull-requests-with-task-lists" title="Permalink to this headline">ğŸ”—</a></h2>
<p><a class="reference external" href="https://guides.github.com/features/mastering-markdown/">GitHub Markdown</a>
allows users to use task lists in their pull request body. Task lists render
with clickable checkboxes in comments and you can select or deselect the
checkboxes to mark them as complete or incomplete. Tasks lists are often used
in <a class="reference external" href="https://docs.github.com/en/communities/using-templates-to-encourage-useful-issues-and-pull-requests/creating-a-pull-request-template-for-your-repository#adding-a-pull-request-template">pull request templates</a>.</p>
<img alt="../_images/tasklist.png" src="../_images/tasklist.png" />
<p>You can leverage Mergify conditions to match task lists using the <code class="docutils literal notranslate"><span class="pre">body</span></code>
attribute and <a class="reference internal" href="../configuration/#regular-expressions"><span class="std std-ref">regular expressions</span></a>. If your body
contains the following Markdown, you can make sure those boxes are checked
before, e.g., doing a merge.</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>[ ] Security has been checked
[ ] Changes have been documented
</pre></div>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">pull_request_rules</span>
  <span class="l l-Scalar l-Scalar-Plain">- name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">merge when checkboxes are checked</span>
    <span class="l l-Scalar l-Scalar-Plain">conditions</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">body~=(?m)^\[X\] Security has been checked</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">body~=(?m)^\[X\] Changes have been documented</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">check-success=my favorite ci</span>
<span class=" -Error">    </span><span class="nt">actions</span><span class="p">:</span>
      <span class="nt">merge</span><span class="p">:</span>
        <span class="nt">method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">merge</span>
</pre></div>
</div>
</section>
<section id="bots">
<h2><a class="toc-backref" href="#id16">ğŸ¤– Bots</a><a class="headerlink" href="#bots" title="Permalink to this headline">ğŸ”—</a></h2>
<p>Some pull requests might be created automatically by other tools, such as the
ones sending automatic dependencies update. You might decide that thereâ€™s no
need to manually review and approve those pull request as long as your
continuous integration system validates them.</p>
<p>The rules below are examples for such services: they are designed to
automatically merge those updates without human intervention if the continuous
integration system validates them. <code class="docutils literal notranslate"><span class="pre">Travis</span> <span class="pre">CI</span> <span class="pre">-</span> <span class="pre">Pull</span> <span class="pre">Request</span></code> is used as the
CI check name here â€” adjust it to whatever you use.</p>
<section id="dependabot">
<h3>Dependabot<a class="headerlink" href="#dependabot" title="Permalink to this headline">ğŸ”—</a></h3>
<p><a class="reference external" href="https://github.com/features/security">Dependabot</a> is the bot behind GitHub
automatic security update. It sends automatic updates for your projectâ€™s
dependencies, making sure they are secure.</p>
<p>You can automate the merge of pull request created by <cite>dependabot</cite> with a rule
such as:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">pull_request_rules</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">automatic merge for Dependabot pull requests</span>
    <span class="nt">conditions</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">author~=^dependabot(|-preview)\[bot\]$</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">check-success=Travis CI - Pull Request</span>
    <span class="nt">actions</span><span class="p">:</span>
      <span class="nt">merge</span><span class="p">:</span>
        <span class="nt">method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">merge</span>
</pre></div>
</div>
<p>Alternatively, you can also enable the automatic merge for <cite>dependabot</cite> pull
request only if they are for the same major version.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">pull_request_rules</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">automatic merge for Dependabot pull requests</span>
    <span class="nt">conditions</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">author~=^dependabot(|-preview)\[bot\]$</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">check-success=Travis CI - Pull Request</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">title~=^Bump [^\s]+ from ([\d]+)\..+ to \1\.</span>
    <span class="nt">actions</span><span class="p">:</span>
      <span class="nt">merge</span><span class="p">:</span>
        <span class="nt">method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">merge</span>
</pre></div>
</div>
<p>The additional <cite>title</cite> based rule in <code class="docutils literal notranslate"><span class="pre">conditions</span></code> make sure that only the
updates from <cite>1.x</cite> to <cite>1.y</cite> will be automatically merged. Updates from, e.g.,
<cite>2.x</cite> to <cite>3.x</cite> will be ignored by Mergify.</p>
</section>
<section id="snyk">
<h3>Snyk<a class="headerlink" href="#snyk" title="Permalink to this headline">ğŸ”—</a></h3>
<p><a class="reference external" href="https://snyk.io">Snyk</a> sends automatic updates for your
projectâ€™s dependencies.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">pull_request_rules</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">automatic merge for Snyk pull requests</span>
    <span class="nt">conditions</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">title~=^\[Snyk\]</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">head~=^snyk-fix</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">check-success~=^security/snyk</span>
    <span class="nt">actions</span><span class="p">:</span>
      <span class="nt">merge</span><span class="p">:</span>
        <span class="nt">method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">merge</span>
</pre></div>
</div>
</section>
<section id="renovate">
<h3>Renovate<a class="headerlink" href="#renovate" title="Permalink to this headline">ğŸ”—</a></h3>
<p><a class="reference external" href="https://renovatebot.com/">Renovate</a> sends automatic updates for your
projectâ€™s dependencies.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">pull_request_rules</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">automatic merge for Renovate pull requests</span>
    <span class="nt">conditions</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">author=renovate[bot]</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">check-success=Travis CI - Pull Request</span>
    <span class="nt">actions</span><span class="p">:</span>
      <span class="nt">merge</span><span class="p">:</span>
        <span class="nt">method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">merge</span>
</pre></div>
</div>
</section>
<section id="requires-io">
<h3>Requires.io<a class="headerlink" href="#requires-io" title="Permalink to this headline">ğŸ”—</a></h3>
<p><a class="reference external" href="https://requires.io/">Requires.io</a> sends automatic updates for your
projectâ€™s dependencies (only Pythonâ€™s packages).</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">pull_request_rules</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">automatic merge for Requires.io pull requests</span>
    <span class="nt">conditions</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">title~=^\[requires.io\]</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">head~=^requires-io</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">check-success=Travis CI - Pull Request</span>
    <span class="nt">actions</span><span class="p">:</span>
      <span class="nt">merge</span><span class="p">:</span>
        <span class="nt">method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">merge</span>
</pre></div>
</div>
</section>
<section id="pyup">
<h3>PyUp<a class="headerlink" href="#pyup" title="Permalink to this headline">ğŸ”—</a></h3>
<p><a class="reference external" href="https://pyup.io/">PyUp</a> sends automatic updates for your projectâ€™s
Python dependencies.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">pull_request_rules</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">automatic merge for PyUp pull requests</span>
    <span class="nt">conditions</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">author=pyup-bot</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">check-success=Travis CI - Pull Request</span>
    <span class="nt">actions</span><span class="p">:</span>
      <span class="nt">merge</span><span class="p">:</span>
        <span class="nt">method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">merge</span>
</pre></div>
</div>
</section>
<section id="depfu">
<h3>Depfu<a class="headerlink" href="#depfu" title="Permalink to this headline">ğŸ”—</a></h3>
<p><a class="reference external" href="https://depfu.com/">Depfu</a> notifies you automatically about new versions of
your Ruby, JavaScript, and Elixir projectâ€™s dependencies.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">pull_request_rules</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">automatic merge for Depfu pull requests</span>
    <span class="nt">conditions</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">author=depfu[bot]</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">check-success=Travis CI - Pull Request</span>
    <span class="nt">actions</span><span class="p">:</span>
      <span class="nt">merge</span><span class="p">:</span>
        <span class="nt">method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">merge</span>
</pre></div>
</div>
</section>
<section id="imgbot">
<h3>ImgBot<a class="headerlink" href="#imgbot" title="Permalink to this headline">ğŸ”—</a></h3>
<p><a class="reference external" href="https://github.com/marketplace/imgbot">ImgBot</a> optimizes your images and
saves you time.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">pull_request_rules</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">automatic merge for ImgBot pull requests</span>
    <span class="nt">conditions</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">author=imgbot[bot]</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">check-success=Travis CI - Pull Request</span>
    <span class="nt">actions</span><span class="p">:</span>
      <span class="nt">merge</span><span class="p">:</span>
        <span class="nt">method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">merge</span>
</pre></div>
</div>
</section>
</section>
</section>


        </div>
      </div>
    </div>
      <div class="clearer"></div>
    </div>
  </div>
</div>
<footer class="footer d-flex justify-content-between flex-wrap">
    <div class="copyright">
        <div>&copy; Copyright 2021, Mergify</div>
    </div>
    <div>
      <a href="https://github.com/Mergifyio/mergify-engine/tree/main/docs/source/examples.rst"
         class="btn btn-dark btn-sm active">
        Edit on GitHub <i class="fas fa-external-link-square-alt"></i>
      </a>
    </div>
    <div>
        <a href="#" class="btn btn-primary btn-sm" role="button">Back to top</a>
    </div>
</footer>
  </body>
</html>